<!-- templates/products/allproductlist.html -->
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>All Products</title>
    <style>
        .product-list { display: flex; flex-wrap: wrap; gap: 20px; }
        .product-card { border: 1px solid #ccc; padding: 10px; width: 200px; }
        .product-card img { width: 100%; height: 150px; object-fit: cover; }
        .pagination { margin-top: 20px; }
        .pagination a { margin: 0 5px; text-decoration: none; }
        .pagination span { margin: 0 5px; }
    </style>
</head>
<body>
    <h1>All Products</h1>

    <div class="product-list">
        {% for product in page_obj %}
        <div class="product-card">
            <a href="{% url 'product-detail' slug=product.slug %}">
                <img src="{{ product.image.url }}" alt="{{ product.name }}">
            </a>
            <h3>{{ product.name }}</h3>
            <p>Price: ${{ product.price }}</p>
            <p>Stock: {{ product.stock }}</p>
        </div>
        {% empty %}
        <p>No products available.</p>
        {% endfor %}
    </div>

    <div class="pagination">
        {% if page_obj.has_previous %}
            <a href="?page={{ page_obj.previous_page_number }}">Previous</a>
        {% endif %}

        <span>Page {{ page_obj.number }} of {{ page_obj.paginator.num_pages }}</span>

        {% if page_obj.has_next %}
            <a href="?page={{ page_obj.next_page_number }}">Next</a>
        {% endif %}
    </div>
</body>
</html>
